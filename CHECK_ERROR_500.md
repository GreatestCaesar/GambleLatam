# Решение ошибки 500

## Проблема
- `/test` → 404 (функция в корне не работает - это нормально для Vercel)
- `/api/minimal` → 500 (функция вызывается, но падает)

## Решение

Ошибка 500 означает, что функция вызывается, но падает при выполнении.

### Шаг 1: Проверьте логи функции

**КРИТИЧЕСКИ ВАЖНО:**

1. Vercel Dashboard → ваш проект → **Functions** → `api/minimal.py`
2. Откройте вкладку **Logs**
3. Откройте в браузере: `https://gamblelatam-dfqggrqxc-nebulamood.vercel.app/api/minimal`
4. **Сразу вернитесь к логам** - там должна быть точная ошибка!

**Что искать в логах:**
- `Traceback` - полный стек ошибки
- `ImportError` - проблема с импортом
- `NameError` - проблема с переменной
- Любые другие ошибки Python

### Шаг 2: Я упростил функции

Я создал:
- `api/minimal.py` - максимально простая версия
- `api/index-simple.py` - упрощенная версия без сложных импортов

### Шаг 3: Задеплойте и проверьте

```bash
vercel --prod --force
```

Проверьте:
- `/api/minimal` - должен работать
- `/api/index-simple` - должен работать

### Шаг 4: Если `/api/minimal` все еще 500

Проблема может быть в:
1. **Импорте при загрузке модуля** - даже если импорт в функции, Python может пытаться загрузить его при импорте модуля
2. **Проблеме с json модулем** - хотя это стандартный модуль

Попробуйте еще более простую версию:

```python
def handler(request):
    return {"statusCode": 200, "body": '{"ok": true}'}
```

## Что сделать ПРЯМО СЕЙЧАС:

1. ✅ **Откройте логи функции `/api/minimal` в Vercel Dashboard**
2. ✅ **Откройте `/api/minimal` в браузере**
3. ✅ **Вернитесь к логам и скопируйте точную ошибку**
4. ✅ **Сообщите мне точную ошибку из логов**

Это критически важно - без логов невозможно понять, в чем проблема!

